process Test = {

  untracked PSet options = {
        include "FWCore/Framework/test/cmsExceptionsFatalOption.cff"
         untracked bool wantSummary = true
         untracked bool makeTriggerResults = true 
  }

  untracked PSet maxEvents = {untracked int32 input = -1}

# include "FWCore/MessageLogger/data/MessageLogger.cfi"
  service = MessageLogger{ untracked vstring destinations = { "cout" } 
    untracked PSet cout = { untracked string threshold = "INFO"} 
  }


  source = PoolSource {
    untracked vstring fileNames = {
      '/store/RelVal/2007/8/10/RelVal-RelVal160pre9Z-TT-1186741958/0002/205960E8-6847-DC11-BF6E-00304885AAF2.root'
    } 
  }


  # b tagging skims
  include "RecoBTag/Skimming/data/RecoBTag_SkimPaths.cff"
  include "RecoBTag/Skimming/data/RecoBTag_OutputModules.cff"
  sequence allRecoBTagOutput = {btagDijetOutputModuleAODSIM & btagElecInJetOutputModuleAODSIM & btagMuonInJetOutputModuleAODSIM & btagGenBbOutputModuleAODSIM}

  # e gamma skims
  include "EgammaAnalysis/Configuration/data/EgammaAnalysis_SkimPaths.cff"
  include "EgammaAnalysis/Configuration/data/EgammaAnalysis_OutputModules.cff"
  sequence allEgammaOutput = {egammaLooseZOutputModuleAODSIM & egammaVeryHighEtOutputModuleAODSIM & egammaZPlusEMOrJetOutputModuleAODSIM & egammaWPlusEMOrJetOutputModuleAODSIM}

  # Jet MET skims 
  include "JetMETAnalysis/Configuration/data/JetMETAnalysis_SkimPaths.cff"
  include "JetMETAnalysis/Configuration/data/JetMETAnalysis_OutputModules.cff"
  #sequence JetMETAnalysisOutput defined internally

  # Particle flow skims
  include "RecoParticleFlow/PFSkims/data/PFSkims_SkimPaths.cff"
  include "RecoParticleFlow/PFSkims/data/PFSkims_OutputModules.cff"
  # sequence PFSkims defined internally


  endpath out = {allEgammaOutput & JetMETAnalysisOutput & allRecoBTagOutput & PFSkims}
}
